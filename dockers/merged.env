# merged.env - build arguments for merged.Dockerfile
# Generated by pei-docker-cli configure --with-merged
# Edit values if needed. Format: KEY='value' (single quotes escaped).

# Stage-1 build args
# Base image for stage-1 (system layer)
BASE_IMAGE_1='nvidia/cuda:12.6.3-devel-ubuntu24.04'

# Host path to installation/stage-1 (copied into image)
PEI_STAGE_HOST_DIR_1='./installation/stage-1'

# In-container path for stage-1 files (default /pei-from-host/stage-1)
PEI_STAGE_DIR_1='/pei-from-host/stage-1'

# Install essential utilities during build (stage-1)
WITH_ESSENTIAL_APPS='true'

# Install and configure OpenSSH server (stage-1)
WITH_SSH='true'

# Root password (optional; leave empty to disable)
ROOT_PASSWORD=''

# APT sources list template or special keyword (tuna/aliyun/163/ustc/cn)
APT_SOURCE_FILE='aliyun'

# Keep APT sources file after build (true/false)
KEEP_APT_SOURCE_FILE='true'

# Use HTTP proxy for APT operations (true/false)
APT_USE_PROXY='false'

# Keep APT proxy settings after build (true/false)
APT_KEEP_PROXY='false'

# HTTP proxy URL for stage-1 (e.g., http://host.docker.internal:7890)
PEI_HTTP_PROXY_1='http://host.docker.internal:7890'

# HTTPS proxy URL for stage-1
PEI_HTTPS_PROXY_1='http://host.docker.internal:7890'

# Export http(s)_proxy for all build steps (true/false)
ENABLE_GLOBAL_PROXY='false'

# Remove global proxy after build completes (true/false)
REMOVE_GLOBAL_PROXY_AFTER_BUILD='false'

# SSH usernames (comma-separated)
SSH_USER_NAME='me'

# SSH user passwords (comma-separated)
SSH_USER_PASSWORD='123456'

# SSH user UIDs (comma-separated)
SSH_USER_UID=''

# SSH port inside container
SSH_CONTAINER_PORT='22'

# Public key file path(s) for SSH users (comma-separated)
SSH_PUBKEY_FILE=''

# Private key file path(s) for SSH users (comma-separated)
SSH_PRIVKEY_FILE=''

# Stage-2 build args
# Host path to installation/stage-2 (copied into image)
PEI_STAGE_HOST_DIR_2='./installation/stage-2'

# In-container path for stage-2 files (default /pei-from-host/stage-2)
PEI_STAGE_DIR_2='/pei-from-host/stage-2'

# Install essential utilities during build (stage-1)
WITH_ESSENTIAL_APPS='true'

# Prefix name for data path (used to construct /soft and /hard paths)
PEI_PREFIX_DATA='data'

# Prefix name for apps path
PEI_PREFIX_APPS='app'

# Prefix name for workspace path
PEI_PREFIX_WORKSPACE='workspace'

# Prefix name for volume path
PEI_PREFIX_VOLUME='volume'

# Prefix name for in-image path
PEI_PREFIX_IMAGE='image'

# Hard storage base path (default /hard)
PEI_PATH_HARD='/hard'

# Soft storage base path (default /soft)
PEI_PATH_SOFT='/soft'

# HTTP proxy URL for stage-2
PEI_HTTP_PROXY_2='http://host.docker.internal:7890'

# HTTPS proxy URL for stage-2
PEI_HTTPS_PROXY_2='http://host.docker.internal:7890'

# Export http(s)_proxy for all build steps (true/false)
ENABLE_GLOBAL_PROXY='false'

# Remove global proxy after build completes (true/false)
REMOVE_GLOBAL_PROXY_AFTER_BUILD='false'

# Runtime defaults for run-merged.sh
# Image name:tag to run
STAGE2_IMAGE_NAME='npu-dev:stage-2'

# Container name (docker --name)
RUN_CONTAINER_NAME='pei-stage-2'
# Detach (1) or interactive (0)
RUN_DETACH='0'
# Remove container on exit (1=yes)
RUN_REMOVE='1'
# Allocate TTY for interactive runs (1=yes)
RUN_TTY='1'
# GPU mode: auto|all|none. auto uses GPU if compose requested it
RUN_GPU='auto'
# Device type derived from compose: gpu|cpu (for RUN_GPU=auto)
RUN_DEVICE_TYPE='gpu'

# Space-separated port mappings (host:container)
RUN_PORTS='40012:22'
# Space-separated volumes (src:dst[:mode])
RUN_VOLUMES='app:/hard/volume/app data:/hard/volume/data /workspace:/hard/volume/workspace home_me:/home/me'
# Space-separated extra hosts (host:addr)
RUN_EXTRA_HOSTS='host.docker.internal:host-gateway'
# Optional network name
RUN_NETWORK=''

# If 1, pass environment variables to docker (-e KEY=VALUE)
RUN_ENV_ENABLE='0'
# Space-separated KEY=VALUE pairs to pass with -e (used if RUN_ENV_ENABLE=1)
RUN_ENV_VARS=''
# Extra args appended to docker run
RUN_EXTRA_ARGS=''
